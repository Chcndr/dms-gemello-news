:root{
  --bg1:#071a1d; --bg2:#0b2730;
  --ink:#e8fbff; --ink-2:#9bd6de;
  --accent:#14b8a6;
  --btnW:140px; /* aggiornato via JS */
}

/* fondo */
html,body{height:100%;margin:0}
body{
  background: radial-gradient(1400px 900px at 50% 20%, #0f3640 0%, var(--bg1) 35%, var(--bg2) 100%);
  color:var(--ink); font: 16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  overflow:hidden;
}

/* nav+claim */
.top{position:fixed; left:16px; top:16px; display:flex; gap:10px; z-index:10}
.btn{
  padding:.55rem .9rem; border-radius:14px; border:1.5px solid rgba(255,255,255,.22);
  background: rgba(255,255,255,.06); backdrop-filter: blur(6px);
  text-decoration:none; color:var(--ink); font-weight:600
}
.claim{position:fixed; right:20px; top:26px; text-align:right; z-index:10}
.claim h1{margin:0 0 6px; letter-spacing:.02em; font-size:32px; line-height:1.1}
.claim p{margin:0; color:var(--ink-2); font-weight:500}

/* layers */
#glowLayer,#ellipseLayer,#viewport{position:fixed; inset:0}
#glowLayer{z-index:1; pointer-events:none}
#ellipseLayer{z-index:2; pointer-events:none}
#viewport{z-index:3; display:flex; align-items:center; justify-content:center}
#viewport>video{
  width: min(62vw, 1280px); height: auto; max-height: 45vh;
  border-radius:18px; box-shadow: 0 32px 80px rgba(0,0,0,.45), inset 0 0 0 1.5px rgba(255,255,255,.14);
  background:#0c1e25;
}

/* nodi */
#nodes{position:fixed; inset:0; z-index:4}
.node{
  position:absolute; left:50%; top:50%;
  width:var(--btnW); height:var(--btnW);
  transform: translate(calc(var(--x,0px)), calc(var(--y,0px)));
  border-radius:16px;
  border:2px solid rgba(255,255,255,.55);
  background: rgba(255,255,255,.06);
  box-shadow:
    0 18px 40px rgba(0,0,0,.35),
    inset 0 0 0 1px rgba(255,255,255,.12);
  color:var(--ink); font-weight:700; letter-spacing:.02em;
  display:grid; place-items:center;
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease, opacity .12s;
  will-change: transform;
  opacity:0; /* nascosti prima del layout per evitare flash */
}
body[data-laid="1"] .node{opacity:1}
.node:hover{
  box-shadow:
    0 22px 54px rgba(0,0,0,.45),
    0 0 0 6px rgba(20,184,166,.25),
    0 0 26px rgba(20,184,166,.35),
    inset 0 0 0 1px rgba(255,255,255,.16);
  border-color: rgba(255,255,255,.85);
  transform: translate(calc(var(--x,0px)), calc(var(--y,0px))) translateY(-2px);
}
.tag{opacity:.9}

